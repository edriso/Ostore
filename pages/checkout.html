<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Theme Color -->
    <meta name="theme-color" content="#6d9886" />
    <!-- Fav Icon -->
    <link rel="icon" type="image/png" href="./images/logo.png" />
    <!-- Css -->
    <link rel="stylesheet" href="../css/layout.css" />
    <!-- Page style -->
    <!-- <link rel="stylesheet" href="../css/" /> -->
    <!-- Bootstrap -->
    <!--fonts and icons-->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital@0;1&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
    <!--CSS only-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:wght@700&family=Source+Code+Pro:wght@400;600&display=swap"
      rel="stylesheet" />
    <title>Ostore | Cart</title>
    <style>
      #success {
        background-color: rgb(200, 238, 209);
      }

      #success-header {
        background-color: rgb(229, 253, 234);
      }


      #back-btn {
        background-color: rgb(18, 172, 172);
      }
      #noitems-header {
        background-color: rgb(245, 204, 204);
      }
    </style>
  </head>

  <body>
    <main class="checkout">
      <div class="card text-center m-5">
        <div id="success-header" class="card-header fs-5">
          Checkout
        </div>
        <div class="card-body">
          <i class="bi bi-check-circle fs-1 text-success"></i>
          <h5 id="success" class="card-title text-success">Success!</h5>
          <p class="card-text fs-4">Your products are on their way to you ðŸ¥°
          </p>

          <table class="table table-borderless">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">product</th>
                <th scope="col">price</th>
                <th scope="col">quantity</th>
              </tr>
            </thead>
            <tbody class="checkout-tbody">
            </tbody>
          </table>
          <div class="fs-6 fw-semibold">
            <i class="bi bi-truck fs-5"></i>
            <span>Shipping in : 3 days</span>
          </div>
          <div class="fs-6 fw-semibold">
            <i class="bi bi-wallet2 fs-5"></i>
            <span>payment method : cash</span>
          </div>
          <a href="./cart.html" id="back-btn" class="btn text-white fw-bold mt-5">Back to Cart</a>
        </div>
      </div>
    </main>
    <script>
      let cart = JSON.parse(localStorage.getItem("cart"));
      let checkoutTbody = document.querySelector(".checkout-tbody");
      let totalPrice = 0;
      let itemsCount = 1;
      cart.forEach((element) => {
        if (element != null) {
          checkoutTbody.innerHTML += `
      <tr>
        <th scope="row">${itemsCount++}</th>
        <td>${element.title}</td>
        <td>${element.price}</td>
        <td>${element.quantity}</td>
       </tr>
      `;
        }
        totalPrice += element.price * element.quantity;
      });
      checkoutTbody.innerHTML += `
      <tr>
      <th colspan="3">total cost: ${totalPrice} $</th>
    </tr>
      `
    </script>
  </body>

</html>